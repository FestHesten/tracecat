title: Reshape data
description: Test reshape data
entrypoint:
  ref: flatten
variables:
  details:
    name: John Doe
    age: 30
    job:
      title: Software Engineer
      company: Acme Inc.
      city: Sometown
    residence:
      street_address: 123 Main St.
      city: Anytown
    contact:
      email: john@acme.com
      phone: 123-456-7890

actions:
  - ref: flatten
    action: core.transform.reshape
    # Flatten the mapping into a list of key-value pairs
    args:
      value:
        name: ${{ VARS.details.name }}
        age: ${{ VARS.details.age }}
        job_title: ${{ VARS.details.job.title }}
        job_company: ${{ VARS.details.job.company }}
        job_city: ${{ VARS.details.job.city }}
        residence_street_address: ${{ VARS.details.residence.street_address }}
        residence_city: ${{ VARS.details.residence.city }}
        contact_email: ${{ VARS.details.contact.email }}
        contact_phone: ${{ VARS.details.contact.phone }}
